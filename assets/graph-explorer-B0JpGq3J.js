import{c as Be,C as Ce,N as Me,F as Ne}from"./ForceLayoutAdapter-KbGwD6E3.js";import{r as Ie,g as qe}from"./index-BzRJ2RaR.js";var j={exports:{}},W={exports:{}},Pe=W.exports,oe;function se(){return oe||(oe=1,(function(e,s){(function(n,c){e.exports=c()})(Pe,(function(){function n(i){f(i);const g=c(i);return i.on=g.on,i.off=g.off,i.fire=g.fire,i}function c(i){let g=Object.create(null);return{on:function(h,x,C){if(typeof x!="function")throw new Error("callback is expected to be a function");let r=g[h];return r||(r=g[h]=[]),r.push({callback:x,ctx:C}),i},off:function(h,x){if(typeof h>"u")return g=Object.create(null),i;if(g[h])if(typeof x!="function")delete g[h];else{const C=g[h];for(let r=0;r<C.length;++r)C[r].callback===x&&C.splice(r,1)}return i},fire:function(h){const x=g[h];if(!x)return i;let C;arguments.length>1&&(C=Array.prototype.slice.call(arguments,1));for(let r=0;r<x.length;++r){const a=x[r];a.callback.apply(a.ctx,C)}return i}}}function f(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");const g=["on","fire","off"];for(let h=0;h<g.length;++h)if(i.hasOwnProperty(g[h]))throw new Error("Subject cannot be eventified, since it already has property '"+g[h]+"'")}function b(i){if(i=i||{},"uniqueLinkId"in i&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),i.multigraph=i.uniqueLinkId),i.multigraph===void 0&&(i.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var g=new Map,h=new Map,x={},C=0,r=i.multigraph?fe:ve,a=[],o=Z,l=Z,d=Z,p=Z,v={version:20,addNode:T,addLink:H,removeLink:me,removeNode:R,getNode:k,getNodeCount:re,getLinkCount:K,getEdgeCount:K,getLinksCount:K,getNodesCount:re,getLinks:pe,forEachNode:ae,forEachLinkedNode:ye,forEachLink:be,beginUpdate:d,endUpdate:p,clear:he,hasLink:Y,hasNode:k,getLink:Y};return n(v),w(),v;function w(){var t=v.on;v.on=u;function u(){return v.beginUpdate=d=xe,v.endUpdate=p=ke,o=q,l=$,v.on=t,t.apply(v,arguments)}}function q(t,u){a.push({link:t,changeType:u})}function $(t,u){a.push({node:t,changeType:u})}function T(t,u){if(t===void 0)throw new Error("Invalid node identifier");d();var m=k(t);return m?(m.data=u,l(m,"update")):(m=new E(t,u),l(m,"add")),g.set(t,m),p(),m}function k(t){return g.get(t)}function R(t){var u=k(t);if(!u)return!1;d();var m=u.links;return m&&(m.forEach(te),u.links=null),g.delete(t),l(u,"remove"),p(),!0}function H(t,u,m){d();var y=k(t)||T(t),M=k(u)||T(u),L=r(t,u,m),_=h.has(L.id);return h.set(L.id,L),I(y,L),t!==u&&I(M,L),o(L,_?"update":"add"),p(),L}function ve(t,u,m){var y=D(t,u),M=h.get(y);return M?(M.data=m,M):new B(t,u,m,y)}function fe(t,u,m){var y=D(t,u),M=x.hasOwnProperty(y);if(M||Y(t,u)){M||(x[y]=0);var L="@"+ ++x[y];y=D(t+L,u+L)}return new B(t,u,m,y)}function re(){return g.size}function K(){return h.size}function pe(t){var u=k(t);return u?u.links:null}function me(t,u){return u!==void 0&&(t=Y(t,u)),te(t)}function te(t){if(!t||!h.get(t.id))return!1;d(),h.delete(t.id);var u=k(t.fromId),m=k(t.toId);return u&&u.links.delete(t),m&&m.links.delete(t),o(t,"remove"),p(),!0}function Y(t,u){if(!(t===void 0||u===void 0))return h.get(D(t,u))}function he(){d(),ae(function(t){R(t.id)}),p()}function be(t){if(typeof t=="function")for(var u=h.values(),m=u.next();!m.done;){if(t(m.value))return!0;m=u.next()}}function ye(t,u,m){var y=k(t);if(y&&y.links&&typeof u=="function")return m?Le(y.links,t,u):we(y.links,t,u)}function we(t,u,m){for(var y,M=t.values(),L=M.next();!L.done;){var _=L.value,Ee=_.fromId===u?_.toId:_.fromId;if(y=m(g.get(Ee),_),y)return!0;L=M.next()}}function Le(t,u,m){for(var y,M=t.values(),L=M.next();!L.done;){var _=L.value;if(_.fromId===u&&(y=m(g.get(_.toId),_),y))return!0;L=M.next()}}function Z(){}function xe(){C+=1}function ke(){C-=1,C===0&&a.length>0&&(v.fire("changed",a),a.length=0)}function ae(t){if(typeof t!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+t);for(var u=g.values(),m=u.next();!m.done;){if(t(m.value))return!0;m=u.next()}}}function E(i,g){this.id=i,this.links=null,this.data=g}function I(i,g){i.links?i.links.add(g):i.links=new Set([g])}function B(i,g,h,x){this.fromId=i,this.toId=g,this.data=h,this.id=x}function D(i,g){return i.toString()+"ðŸ‘‰ "+g.toString()}return b}))})(W)),W.exports}var J={exports:{}},Q,ue;function Se(){return ue||(ue=1,Q={nodes:[{name:"Myriel",group:1},{name:"Napoleon",group:1},{name:"Mlle.Baptistine",group:1},{name:"Mme.Magloire",group:1},{name:"CountessdeLo",group:1},{name:"Geborand",group:1},{name:"Champtercier",group:1},{name:"Cravatte",group:1},{name:"Count",group:1},{name:"OldMan",group:1},{name:"Labarre",group:2},{name:"Valjean",group:2},{name:"Marguerite",group:3},{name:"Mme.deR",group:2},{name:"Isabeau",group:2},{name:"Gervais",group:2},{name:"Tholomyes",group:3},{name:"Listolier",group:3},{name:"Fameuil",group:3},{name:"Blacheville",group:3},{name:"Favourite",group:3},{name:"Dahlia",group:3},{name:"Zephine",group:3},{name:"Fantine",group:3},{name:"Mme.Thenardier",group:4},{name:"Thenardier",group:4},{name:"Cosette",group:5},{name:"Javert",group:4},{name:"Fauchelevent",group:0},{name:"Bamatabois",group:2},{name:"Perpetue",group:3},{name:"Simplice",group:2},{name:"Scaufflaire",group:2},{name:"Woman1",group:2},{name:"Judge",group:2},{name:"Champmathieu",group:2},{name:"Brevet",group:2},{name:"Chenildieu",group:2},{name:"Cochepaille",group:2},{name:"Pontmercy",group:4},{name:"Boulatruelle",group:6},{name:"Eponine",group:4},{name:"Anzelma",group:4},{name:"Woman2",group:5},{name:"MotherInnocent",group:0},{name:"Gribier",group:0},{name:"Jondrette",group:7},{name:"Mme.Burgon",group:7},{name:"Gavroche",group:8},{name:"Gillenormand",group:5},{name:"Magnon",group:5},{name:"Mlle.Gillenormand",group:5},{name:"Mme.Pontmercy",group:5},{name:"Mlle.Vaubois",group:5},{name:"Lt.Gillenormand",group:5},{name:"Marius",group:8},{name:"BaronessT",group:5},{name:"Mabeuf",group:8},{name:"Enjolras",group:8},{name:"Combeferre",group:8},{name:"Prouvaire",group:8},{name:"Feuilly",group:8},{name:"Courfeyrac",group:8},{name:"Bahorel",group:8},{name:"Bossuet",group:8},{name:"Joly",group:8},{name:"Grantaire",group:8},{name:"MotherPlutarch",group:9},{name:"Gueulemer",group:4},{name:"Babet",group:4},{name:"Claquesous",group:4},{name:"Montparnasse",group:4},{name:"Toussaint",group:5},{name:"Child1",group:10},{name:"Child2",group:10},{name:"Brujon",group:4},{name:"Mme.Hucheloup",group:8}],links:[{source:1,target:0,value:1},{source:2,target:0,value:8},{source:3,target:0,value:10},{source:3,target:2,value:6},{source:4,target:0,value:1},{source:5,target:0,value:1},{source:6,target:0,value:1},{source:7,target:0,value:1},{source:8,target:0,value:2},{source:9,target:0,value:1},{source:11,target:10,value:1},{source:11,target:3,value:3},{source:11,target:2,value:3},{source:11,target:0,value:5},{source:12,target:11,value:1},{source:13,target:11,value:1},{source:14,target:11,value:1},{source:15,target:11,value:1},{source:17,target:16,value:4},{source:18,target:16,value:4},{source:18,target:17,value:4},{source:19,target:16,value:4},{source:19,target:17,value:4},{source:19,target:18,value:4},{source:20,target:16,value:3},{source:20,target:17,value:3},{source:20,target:18,value:3},{source:20,target:19,value:4},{source:21,target:16,value:3},{source:21,target:17,value:3},{source:21,target:18,value:3},{source:21,target:19,value:3},{source:21,target:20,value:5},{source:22,target:16,value:3},{source:22,target:17,value:3},{source:22,target:18,value:3},{source:22,target:19,value:3},{source:22,target:20,value:4},{source:22,target:21,value:4},{source:23,target:16,value:3},{source:23,target:17,value:3},{source:23,target:18,value:3},{source:23,target:19,value:3},{source:23,target:20,value:4},{source:23,target:21,value:4},{source:23,target:22,value:4},{source:23,target:12,value:2},{source:23,target:11,value:9},{source:24,target:23,value:2},{source:24,target:11,value:7},{source:25,target:24,value:13},{source:25,target:23,value:1},{source:25,target:11,value:12},{source:26,target:24,value:4},{source:26,target:11,value:31},{source:26,target:16,value:1},{source:26,target:25,value:1},{source:27,target:11,value:17},{source:27,target:23,value:5},{source:27,target:25,value:5},{source:27,target:24,value:1},{source:27,target:26,value:1},{source:28,target:11,value:8},{source:28,target:27,value:1},{source:29,target:23,value:1},{source:29,target:27,value:1},{source:29,target:11,value:2},{source:30,target:23,value:1},{source:31,target:30,value:2},{source:31,target:11,value:3},{source:31,target:23,value:2},{source:31,target:27,value:1},{source:32,target:11,value:1},{source:33,target:11,value:2},{source:33,target:27,value:1},{source:34,target:11,value:3},{source:34,target:29,value:2},{source:35,target:11,value:3},{source:35,target:34,value:3},{source:35,target:29,value:2},{source:36,target:34,value:2},{source:36,target:35,value:2},{source:36,target:11,value:2},{source:36,target:29,value:1},{source:37,target:34,value:2},{source:37,target:35,value:2},{source:37,target:36,value:2},{source:37,target:11,value:2},{source:37,target:29,value:1},{source:38,target:34,value:2},{source:38,target:35,value:2},{source:38,target:36,value:2},{source:38,target:37,value:2},{source:38,target:11,value:2},{source:38,target:29,value:1},{source:39,target:25,value:1},{source:40,target:25,value:1},{source:41,target:24,value:2},{source:41,target:25,value:3},{source:42,target:41,value:2},{source:42,target:25,value:2},{source:42,target:24,value:1},{source:43,target:11,value:3},{source:43,target:26,value:1},{source:43,target:27,value:1},{source:44,target:28,value:3},{source:44,target:11,value:1},{source:45,target:28,value:2},{source:47,target:46,value:1},{source:48,target:47,value:2},{source:48,target:25,value:1},{source:48,target:27,value:1},{source:48,target:11,value:1},{source:49,target:26,value:3},{source:49,target:11,value:2},{source:50,target:49,value:1},{source:50,target:24,value:1},{source:51,target:49,value:9},{source:51,target:26,value:2},{source:51,target:11,value:2},{source:52,target:51,value:1},{source:52,target:39,value:1},{source:53,target:51,value:1},{source:54,target:51,value:2},{source:54,target:49,value:1},{source:54,target:26,value:1},{source:55,target:51,value:6},{source:55,target:49,value:12},{source:55,target:39,value:1},{source:55,target:54,value:1},{source:55,target:26,value:21},{source:55,target:11,value:19},{source:55,target:16,value:1},{source:55,target:25,value:2},{source:55,target:41,value:5},{source:55,target:48,value:4},{source:56,target:49,value:1},{source:56,target:55,value:1},{source:57,target:55,value:1},{source:57,target:41,value:1},{source:57,target:48,value:1},{source:58,target:55,value:7},{source:58,target:48,value:7},{source:58,target:27,value:6},{source:58,target:57,value:1},{source:58,target:11,value:4},{source:59,target:58,value:15},{source:59,target:55,value:5},{source:59,target:48,value:6},{source:59,target:57,value:2},{source:60,target:48,value:1},{source:60,target:58,value:4},{source:60,target:59,value:2},{source:61,target:48,value:2},{source:61,target:58,value:6},{source:61,target:60,value:2},{source:61,target:59,value:5},{source:61,target:57,value:1},{source:61,target:55,value:1},{source:62,target:55,value:9},{source:62,target:58,value:17},{source:62,target:59,value:13},{source:62,target:48,value:7},{source:62,target:57,value:2},{source:62,target:41,value:1},{source:62,target:61,value:6},{source:62,target:60,value:3},{source:63,target:59,value:5},{source:63,target:48,value:5},{source:63,target:62,value:6},{source:63,target:57,value:2},{source:63,target:58,value:4},{source:63,target:61,value:3},{source:63,target:60,value:2},{source:63,target:55,value:1},{source:64,target:55,value:5},{source:64,target:62,value:12},{source:64,target:48,value:5},{source:64,target:63,value:4},{source:64,target:58,value:10},{source:64,target:61,value:6},{source:64,target:60,value:2},{source:64,target:59,value:9},{source:64,target:57,value:1},{source:64,target:11,value:1},{source:65,target:63,value:5},{source:65,target:64,value:7},{source:65,target:48,value:3},{source:65,target:62,value:5},{source:65,target:58,value:5},{source:65,target:61,value:5},{source:65,target:60,value:2},{source:65,target:59,value:5},{source:65,target:57,value:1},{source:65,target:55,value:2},{source:66,target:64,value:3},{source:66,target:58,value:3},{source:66,target:59,value:1},{source:66,target:62,value:2},{source:66,target:65,value:2},{source:66,target:48,value:1},{source:66,target:63,value:1},{source:66,target:61,value:1},{source:66,target:60,value:1},{source:67,target:57,value:3},{source:68,target:25,value:5},{source:68,target:11,value:1},{source:68,target:24,value:1},{source:68,target:27,value:1},{source:68,target:48,value:1},{source:68,target:41,value:1},{source:69,target:25,value:6},{source:69,target:68,value:6},{source:69,target:11,value:1},{source:69,target:24,value:1},{source:69,target:27,value:2},{source:69,target:48,value:1},{source:69,target:41,value:1},{source:70,target:25,value:4},{source:70,target:69,value:4},{source:70,target:68,value:4},{source:70,target:11,value:1},{source:70,target:24,value:1},{source:70,target:27,value:1},{source:70,target:41,value:1},{source:70,target:58,value:1},{source:71,target:27,value:1},{source:71,target:69,value:2},{source:71,target:68,value:2},{source:71,target:70,value:2},{source:71,target:11,value:1},{source:71,target:48,value:1},{source:71,target:41,value:1},{source:71,target:25,value:1},{source:72,target:26,value:2},{source:72,target:27,value:1},{source:72,target:11,value:1},{source:73,target:48,value:2},{source:74,target:48,value:2},{source:74,target:73,value:3},{source:75,target:69,value:3},{source:75,target:68,value:3},{source:75,target:25,value:3},{source:75,target:48,value:1},{source:75,target:41,value:1},{source:75,target:70,value:1},{source:75,target:71,value:1},{source:76,target:64,value:1},{source:76,target:65,value:1},{source:76,target:66,value:1},{source:76,target:63,value:1},{source:76,target:62,value:1},{source:76,target:48,value:1},{source:76,target:58,value:1}]}),Q}var ne;function Te(){if(ne)return J.exports;ne=1;var e=Se(),s=se();J.exports=n(),J.exports.create=n;function n(){for(var c=s(),f=0;f<e.nodes.length;++f)c.addNode(f,e.nodes[f]);for(f=0;f<e.links.length;++f){var b=e.links[f];c.addLink(b.source,b.target,b.value)}return c}return J.exports}var le;function De(){if(le)return j.exports;le=1;var e=se(),s=Te().create;j.exports=n(e),j.exports.factory=n;function n(c){return{ladder:f,complete:E,completeBipartite:I,balancedBinTree:g,balancedBinaryTree:g,binaryTree:g,binTree:g,path:B,circularLadder:b,grid:D,grid3:i,noLinks:h,wattsStrogatz:C,cliqueCircle:x,miserables:s};function f(r){if(!r||r<0)throw new Error("Invalid number of nodes");var a=c(),o;for(o=0;o<r-1;++o)a.addLink(o,o+1),a.addLink(r+o,r+o+1),a.addLink(o,r+o);return a.addLink(r-1,2*r-1),a}function b(r){if(!r||r<0)throw new Error("Invalid number of nodes");var a=f(r);return a.addLink(0,r-1),a.addLink(r,2*r-1),a}function E(r){if(!r||r<1)throw new Error("At least two nodes are expected for complete graph");var a=c(),o,l;for(o=0;o<r;++o)for(l=o+1;l<r;++l)o!==l&&a.addLink(o,l);return a}function I(r,a){if(!r||!a||r<0||a<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var o=c(),l,d;for(l=0;l<r;++l)for(d=r;d<r+a;++d)o.addLink(l,d);return o}function B(r){if(!r||r<0)throw new Error("Invalid number of nodes");var a=c(),o;for(a.addNode(0),o=1;o<r;++o)a.addLink(o-1,o);return a}function D(r,a){if(r<1||a<1)throw new Error("Invalid number of nodes in grid graph");var o=c(),l,d;if(r===1&&a===1)return o.addNode(0),o;for(l=0;l<r;++l)for(d=0;d<a;++d){var p=l+d*r;l>0&&o.addLink(p,l-1+d*r),d>0&&o.addLink(p,l+(d-1)*r)}return o}function i(r,a,o){if(r<1||a<1||o<1)throw new Error("Invalid number of nodes in grid3 graph");var l=c(),d,p,v;if(r===1&&a===1&&o===1)return l.addNode(0),l;for(v=0;v<o;++v)for(d=0;d<r;++d)for(p=0;p<a;++p){var w=v*r*a,q=d+p*r+w;d>0&&l.addLink(q,d-1+p*r+w),p>0&&l.addLink(q,d+(p-1)*r+w),v>0&&l.addLink(q,d+p*r+(v-1)*r*a)}return l}function g(r){if(r===void 0||r<0)throw new Error("Invalid number of levels in balanced tree");var a=c(),o=Math.pow(2,r),l;for(r===0&&a.addNode(1),l=1;l<o;++l){var d=l,p=d*2,v=d*2+1;a.addLink(d,p),a.addLink(d,v)}return a}function h(r){if(r<0)throw new Error("Number of nodes should be >= 0");var a=c(),o;for(o=0;o<r;++o)a.addNode(o);return a}function x(r,a){if(r<1)throw new Error("Invalid number of cliqueCount in cliqueCircle");if(a<1)throw new Error("Invalid number of cliqueSize in cliqueCircle");for(var o=c(),l=0;l<r;++l)d(a,l*a),l>0&&o.addLink(l*a,l*a-1);return o.addLink(0,o.getNodesCount()-1),o;function d(p,v){for(var w=0;w<p;++w)o.addNode(w+v);for(var w=0;w<p;++w)for(var q=w+1;q<p;++q)o.addLink(w+v,q+v)}}function C(r,a,o,l){if(a>=r)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var d=Ie().random(l||42),p=c(),v,w;for(v=0;v<r;++v)p.addNode(v);for(var q=Math.floor(a/2+1),$=1;$<q;++$)for(v=0;v<r;++v)w=($+v)%r,p.addLink(v,w);for($=1;$<q;++$)for(v=0;v<r;++v)if(d.nextDouble()<o){var T=v;w=($+v)%r;var k=d.next(r),R=k===T||p.hasLink(T,k);if(R&&p.getLinks(T).length===r-1)continue;for(;R;)k=d.next(r),R=k===T||p.hasLink(T,k);var H=p.hasLink(T,w);p.removeLink(H),p.addLink(T,k)}return p}}return j.exports}var _e=De();const A=qe(_e),P=["#4a90d9","#6dd5ed","#c471ed","#f64f59","#12c2e9","#f5af19","#11998e","#38ef7d","#ee0979","#ff6a00","#a8c0ff"],ee={miserables:{name:"Les Miserables",create(){return A.miserables()},nodeData(e){const s=e.data||{},n=s.group??0;return{label:s.name||String(e.id),color:s.color||P[n%P.length],description:`Group ${n}`}}},wattsStrogatz:{name:"Watts-Strogatz",create(){return A.wattsStrogatz(100,8,.1)},nodeData(e){const s=e.data||{};return{label:s.label||String(e.id),color:s.color||P[e.id%P.length],description:`Node ${e.id}`}}},grid:{name:"Grid 10x10",create(){return A.grid(10,10)},nodeData(e){const s=e.data||{},n=Math.floor(e.id/10);return{label:s.label||String(e.id),color:s.color||P[n%P.length],description:`Row ${n}`}}},balancedBinTree:{name:"Binary Tree",create(){return A.balancedBinTree(6)},nodeData(e){const s=e.data||{},n=Math.floor(Math.log2(e.id||1));return{label:s.label||String(e.id),color:s.color||P[n%P.length],description:`Depth ${n}`}}},cliqueCircle:{name:"Clique Circle",create(){return A.cliqueCircle(6,5)},nodeData(e){const s=e.data||{},n=Math.floor(e.id/5);return{label:s.label||String(e.id),color:s.color||P[n%P.length],description:`Clique ${n}`}}},completeBipartite:{name:"Complete Bipartite",create(){return A.completeBipartite(5,8)},nodeData(e){const s=e.data||{},n=e.id<5?0:1;return{label:s.label||String(e.id),color:s.color||(n===0?"#4a90d9":"#f64f59"),description:n===0?"Partition A":"Partition B"}}}},ce=document.getElementById("container"),z=Be(ce,{viewBox:{left:-500,top:-500,right:500,bottom:500},panZoom:{minZoom:.1,maxZoom:50}}),F=new Ce({container:ce,color:"#4a5568",width:.5,opacity:.4}),G=new Me({maxScale:2,levels:[{type:"circle",radius:3,fill:e=>e.color},{importance:e=>e.degree||0,layers:[{type:"circle",radius:8,fill:e=>e.color,opacity:.3,filter:"url(#glow)",visible:(e,s)=>s.zoom>=2},{type:"circle",radius:(e,s)=>s.zoom>=2?6:4,fill:e=>e.color},{type:"text",text:e=>e.label,fontSize:10,fill:"#fff",anchor:"bottom",offset:[0,16]}]},{minZoom:6,importance:e=>e.degree||0,layers:[{type:"rect",width:140,height:80,rx:8,fill:e=>e.color,opacity:.9},{type:"text",text:e=>e.label,fontSize:14,fill:"#fff",fontWeight:"bold",offset:[0,-8]},{type:"text",text:e=>e.description,fontSize:11,fill:"rgba(255,255,255,0.8)",offset:[0,12]}]}]});z.addCollection(F);z.addCollection(G);let N=null,S=null,V=new Map,U=new Map,O=1,X=!0;async function Fe(){const e=S.getPositions(),s=ee[document.getElementById("graphType").value];G.beginBatch(),F.beginBatch(),N.forEachNode(n=>{if(V.has(n.id))return;const c=e.get(n.id);c&&V.set(n.id,ge(n,c,s))}),N.forEachLink(n=>{const c=`${n.fromId}-${n.toId}`;if(U.has(c))return;const f=e.get(n.fromId),b=e.get(n.toId);if(!f||!b)return;const E=F.add({id:c,fromX:f.x,fromY:f.y,toX:b.x,toY:b.y});U.set(c,{edge:E,link:n})}),G.endBatch(),F.endBatch()}function ge(e,s,n){var f;const c=n.nodeData(e);return G.add({id:e.id,x:s.x,y:s.y,data:{label:c.label,color:c.color,description:c.description,degree:((f=e.data)==null?void 0:f.degree)||0}})}function $e(e){const s=ee[document.getElementById("graphType").value];let n=!1;e.forEach((c,f)=>{let b=V.get(f);if(!b){const E=N.getNode(f);if(!E)return;n||(G.beginBatch(),F.beginBatch(),n=!0),b=ge(E,c,s),V.set(f,b),N.forEachLinkedNode(f,(I,B)=>{const D=`${B.fromId}-${B.toId}`;if(U.has(D))return;const i=e.get(B.fromId),g=e.get(B.toId);if(!i||!g)return;const h=F.add({id:D,fromX:i.x,fromY:i.y,toX:g.x,toY:g.y});U.set(D,{edge:h,link:B})})}G.setPosition(b,c.x,c.y)}),n&&(G.endBatch(),F.endBatch()),U.forEach(({edge:c,link:f})=>{const b=e.get(f.fromId),E=e.get(f.toId);b&&E&&F.setEndpoints(c,b.x,b.y,E.x,E.y)}),z.requestRender()}function Ge(){document.getElementById("nodeCount").textContent=G.count,document.getElementById("edgeCount").textContent=F.count}function ze(){O=1,N.forEachNode(e=>{const s=N.getLinks(e.id),n=s?s.size??s.length??0:0;e.data||(e.data={}),e.data.degree=n,n>O&&(O=n)})}function ie(e){S&&(S.stop(),S.dispose()),V.clear(),U.clear(),G.clear(),F.clear(),N=ee[e].create(),ze(),S=new Ne(N,{springLength:30,springCoefficient:5e-4,stableFramesRequired:3,energyThreshold:.01}),S.onUpdate($e),S.start(),X=!0,document.getElementById("btnToggleLayout").textContent="Pause Layout"}z.on("transform",e=>{document.getElementById("zoomLevel").textContent=e.scale.toFixed(2)+"x"});document.getElementById("btnReset").addEventListener("click",async()=>{const e=await S.getBounds();z.fitToView(e,50)});document.getElementById("btnToggleLayout").addEventListener("click",()=>{X?(S.stop(),document.getElementById("btnToggleLayout").textContent="Resume Layout"):(S.start(),document.getElementById("btnToggleLayout").textContent="Pause Layout"),X=!X});document.getElementById("btnAddNodes").addEventListener("click",async()=>{const e=[];N.forEachNode(c=>{e.push(c.id)});const s=e.length,n=S.getPositions();for(let c=0;c<10;c++){const f=s+c;if(N.addNode(f,{label:`Node ${f}`,color:P[Math.floor(Math.random()*P.length)],degree:0}),e.length>0){const b=e[Math.floor(Math.random()*e.length)];N.addLink(f,b);const E=N.getNode(f),I=N.getNode(b);E&&(E.data.degree=(E.data.degree||0)+1),I&&(I.data.degree=(I.data.degree||0)+1),I&&I.data.degree>O&&(O=I.data.degree);const B=n.get(b);B&&await S.setNodePosition(f,B.x+(Math.random()-.5)*50,B.y+(Math.random()-.5)*50)}e.push(f)}await Fe(),Ge()});document.getElementById("graphType").addEventListener("change",e=>{ie(e.target.value)});ie("miserables");const de=document.createElementNS("http://www.w3.org/2000/svg","defs");de.innerHTML=`
  <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
    <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
    <feMerge>
      <feMergeNode in="coloredBlur"/>
      <feMergeNode in="SourceGraphic"/>
    </feMerge>
  </filter>
`;z.svg.insertBefore(de,z.svg.firstChild);
